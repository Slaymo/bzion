function createCookie(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=a+"="+b+d+"; path=/"}function readCookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null}function eraseCookie(a){createCookie(a,"",-1)}function toggleToolbar(){$(".js-mdEditor").toggleClass("active"),$(".js-mdPreview").toggleClass("active"),$("#c-md-editor__canvas").toggleClass("c-md-editor__canvas--editor c-md-editor__canvas--preview")}function formatCountry(a){if(!a.id||void 0===a.element)return a.text;var b=a.element.getAttribute("data-iso");return null===b?role.text:$('<div class="c-flag c-flag--'+b.toLowerCase()+'"></div> <span>'+a.text+"</span>")}function formatRole(a){if(!a.id||void 0===a.element)return a.text;var b=a.element.getAttribute("data-icon");return null===b?a.text:$('<i class="fa '+b+'"></i> <span>'+a.text+"</span>")}if(void 0!==window.markdownit){var md=window.markdownit();$(function(){$(".js-mdEditor").click(function(){toggleToolbar()}),$(".js-mdPreview").click(function(){toggleToolbar();var a=$("#form_content").val(),b=md.render(a);$("#c-md-editor__preview").html(b)})})}!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="nuclide",g={filter:"*",postFilter:function(){},itemSelector:""};e.prototype={init:function(){var b=a(this.element),c=b.find("*[data-filter]");return this.target=b.data("target"),c.each(function(){a(this).click(function(){var b=a(this),c=b.data("filter");b.parent().nuclide("refresh",c)})}),this},checkFilter:function(b,c,d){var e=b.find(c.itemSelector);return e.each(function(){var b=a(this);b.data(c.filter)!==d&&"*"!==d?b.hide():b.show()}),this},refresh:function(b){return this.checkFilter(a(this.target),this.options,b),this.options.postFilter(),this}},a.fn[f]=function(b,c){return this.each(function(){var d="plugin_"+f;if(a.data(this,d)){var g=a.data(this);g[d][b](c)}else a.data(this,d,new e(this,b))})}}(jQuery,window,document);var Queue=function(){var a=null,b=0,c=function(a){b+=a},d=function(){var b=$.Deferred();return $.when(a).always(function(){b.resolve()}),b.promise()};this.add=function(b){c(1);var e=$.Deferred(),f=d();e.always(function(){c(-1)}),f.done(function(){b.apply(e)&&e.resolve()}),a=e.promise()},this.isLast=function(){return 1>=b}};$(document).ready(function(){$.fn.select2&&$(".js-select__country").select2({templateResult:formatCountry,templateSelection:formatCountry})}),$(document).ready(function(){$.fn.select2&&$(".js-select__permission").select2()}),$(document).ready(function(){$.fn.select2&&$(".js-select__role").select2({templateResult:formatRole,templateSelection:formatRole,width:"100%"})}),$(document).ready(function(){$.fn.select2&&$(".js-select__timezone").select2()});